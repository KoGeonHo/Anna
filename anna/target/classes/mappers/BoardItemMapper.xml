<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
 
<mapper namespace="edu.fourmen.mapper.boardItemMapper">
	
	<select id="selectAll" resultType="BoardItemVO"  >
		SELECT b.item_idx
			 , b.Title
			 , b.uidx
			 , b.Contents
			 , b.wdate
			 , u.nickname
			FROM Board_Items b, AnnaUser u
			WHERE b.uidx = u.uidx  ORDER BY b.uidx desc 
		
	</select>
	

	
	<insert id="boarditemswrite" parameterType="BoardItemVO">
	insert into Board_Items(
						uidx
						,cate_idx
						,Title
						,Contents
						,wdate
						,addr1
						,addr2
						,addr_Code
						,image1
						,image2
						,image3
						,image4
						,image5
						,image6
						,image7
						,image8
						,image9
						,image10 
						,Keyword
						,Price
						,offer
						,hit
						,state
						) VALUES(
						1
						,#{cate_idx}
						,#{title}
						,#{content}
						,now()
						,#{addr1}
						,#{addr2}
						,#{addr_code}
						<!-- <if test="#{image1} != null">
						,#{image1} 
						</if>
						<if test=" #{image1} == null">
						,1
						</if>
						<if test=" #{image2} == null">
						,2
						</if>
						<if test="#{image2} != null">
						,#{image2}
						</if>
						,<if test=" #{image3} == null">
						,3
						</if>
						<if test="#{image3} != null">
						,#{image2}
						</if> -->
						
						,#{image1}
						,#{image2}
						,#{image3}
						,#{image4}
						,#{image5}
						,#{image6}
						,#{image7}
						,#{image8}
						,#{image9}
						,#{image10}
						,#{keyword}
						,#{price}
						,#{offer}
						,1
						,#{state}
						)
	</insert>
	<select id="selectitem" parameterType="int" resultType="BoardItemVO">
		SELECT b.item_idx
			 , b.Title
			 , b.uidx
			 , b.Contents
			 , b.wdate
			 , b.cate_idx
			 , b.Image1
			 , b.Image2
			 , b.Image3
			 , b.Image4
			 , b.Image5
			 , b.Image6
			 , b.Image7
			 , b.Image8
			 , b.Image9
			 , b.Image10
			 , u.nickname
			 , b.Keyword
			 , b.Price
			 , b.offer
			 , b.state
			 
		FROM Board_Items b , AnnaUser u
		WHERE b.uidx = u.uidx
		AND b.uidx = #{uidx}
	</select>

</mapper>